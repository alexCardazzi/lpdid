<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Alexander Cardazzi" />

<meta name="date" content="2023-06-21" />

<title>Local Projections Difference-in-Differences</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Local Projections
Difference-in-Differences</h1>
<h4 class="author">Alexander Cardazzi</h4>
<h4 class="date">2023-06-21</h4>



<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p>Please see the working paper on which this package is based <a href="https://www.nber.org/papers/w31184">here</a>.</p>
<p>To install and load this package, use the following code:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="st">&quot;devtools&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="st">&quot;lpdid&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;alexCardazzi/lpdid&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;lpdid&quot;</span>)</span></code></pre></div>
</div>
<div id="a-simple-2x2-did-example" class="section level2">
<h2>A Simple 2x2 DiD Example</h2>
<p>To begin, consider a simple 2x2 DiD where treatment begins at <span class="math inline">\(t = 31\)</span>. Only twenty out of fifty units
get treated, and the treatment dynamics cause the outcome variable to
increase linearly with time. Below, the outcome is averaged by time and
whether the unit receives treatment at some point.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">757</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>I <span class="ot">&lt;-</span> <span class="dv">50</span>; T <span class="ot">&lt;-</span> <span class="dv">50</span>; N <span class="ot">&lt;-</span> I <span class="sc">*</span> T</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>I, <span class="at">each =</span> T),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">t =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>T, I),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">e =</span> <span class="fu">rnorm</span>(N, <span class="dv">0</span>, <span class="dv">4</span>)) <span class="ot">-&gt;</span> df</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>unit_FE <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(I, <span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>time_FE <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(T, <span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>treated <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>id <span class="sc">&lt;</span> <span class="dv">21</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>time_til <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>treated <span class="sc">==</span> <span class="dv">1</span>, df<span class="sc">$</span>t <span class="sc">-</span> <span class="dv">30</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>y <span class="ot">&lt;-</span> df<span class="sc">$</span>e <span class="sc">+</span> unit_FE[df<span class="sc">$</span>id] <span class="sc">+</span> time_FE[df<span class="sc">$</span>t] <span class="sc">+</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>id <span class="sc">&lt;</span> <span class="dv">21</span> <span class="sc">&amp;</span> df<span class="sc">$</span>t <span class="sc">&gt;</span> <span class="dv">30</span>, df<span class="sc">$</span>t <span class="sc">-</span> <span class="dv">30</span>, <span class="dv">0</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(df<span class="sc">$</span>y, <span class="fu">list</span>(df<span class="sc">$</span>t, df<span class="sc">$</span>treated), mean) <span class="ot">-&gt;</span> tmp</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tmp<span class="sc">$</span>Group<span class="fl">.1</span>, tmp<span class="sc">$</span>x, <span class="at">col =</span> tmp<span class="sc">$</span>Group<span class="fl">.2</span> <span class="sc">+</span> <span class="dv">1</span>, <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Time&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Outcome&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<p>In the most simple of cases, LP-DiD and TWFE preform very similarly.
Of course, TWFE is not biased in this setting, so we observe nearly
identical parameter estimates (and standard errors).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lpdid</span>(df, <span class="at">window =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">20</span>, <span class="dv">20</span>), <span class="at">y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">unit_index =</span> <span class="st">&quot;id&quot;</span>, <span class="at">time_index =</span> <span class="st">&quot;t&quot;</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">reweight =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">rel_time =</span> <span class="st">&quot;time_til&quot;</span>) <span class="ot">-&gt;</span> reg</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">feols</span>(y <span class="sc">~</span> <span class="fu">i</span>(time_til, treated, <span class="sc">-</span><span class="dv">1</span>) <span class="sc">|</span> id <span class="sc">+</span> t, <span class="at">data =</span> df) <span class="ot">-&gt;</span> twfe</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_lpdid</span>(reg, <span class="at">col =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">cex =</span> <span class="fl">1.3</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">iplot</span>(twfe, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;TWFE&quot;</span>, <span class="st">&quot;LP-DiD&quot;</span>),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;tomato&quot;</span>), <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">19</span>), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="staggered-exogenous-treatment-timing" class="section level2">
<h2>Staggered (Exogenous) Treatment Timing</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">genr_sim_data</span>(<span class="at">exogenous_timing =</span> <span class="cn">TRUE</span>, <span class="dv">789</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>twfe1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(y <span class="sc">~</span> <span class="fu">i</span>(rel_time, ever_treat, <span class="sc">-</span><span class="dv">1</span>) <span class="sc">|</span> i <span class="sc">+</span> t, <span class="at">data =</span> df)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The variables &#39;rel_time::-50:ever_treat&#39;, &#39;rel_time::-49:ever_treat&#39; and twenty-two others have been removed because of collinearity (see $collin.var).</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>lpdid1 <span class="ot">&lt;-</span> <span class="fu">lpdid</span>(df, <span class="at">window =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">10</span>), <span class="at">y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">unit_index =</span> <span class="st">&quot;i&quot;</span>, <span class="at">time_index =</span> <span class="st">&quot;t&quot;</span>, <span class="at">rel_time =</span> <span class="st">&quot;rel_time&quot;</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_lpdid</span>(lpdid1, <span class="at">col =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">x.shift =</span> <span class="fl">0.1</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">iplot</span>(twfe1, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">aggregate</span>(df<span class="sc">$</span>beta[df<span class="sc">$</span>ever_treat <span class="sc">==</span> <span class="dv">1</span>], <span class="fu">list</span>(df<span class="sc">$</span>rel_time[df<span class="sc">$</span>ever_treat <span class="sc">==</span> <span class="dv">1</span>]), mean))</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;True Beta&quot;</span>, <span class="st">&quot;TWFE&quot;</span>, <span class="st">&quot;LP-DiD&quot;</span>), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">19</span>, <span class="dv">19</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;tomato&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="staggered-endogenous-treatment-timing" class="section level2">
<h2>Staggered (Endogenous) Treatment Timing</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">genr_sim_data</span>(<span class="at">exogenous_timing =</span> <span class="cn">FALSE</span>, <span class="dv">789</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>twfe1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(y <span class="sc">~</span> <span class="fu">i</span>(rel_time, ever_treat, <span class="sc">-</span><span class="dv">1</span>) <span class="sc">|</span> i <span class="sc">+</span> t, <span class="at">data =</span> df)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The variables &#39;rel_time::-50:ever_treat&#39;, &#39;rel_time::-49:ever_treat&#39; and nineteen others have been removed because of collinearity (see $collin.var).</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>lpdid1 <span class="ot">&lt;-</span> <span class="fu">lpdid</span>(df, <span class="at">window =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">10</span>), <span class="at">y =</span> <span class="st">&quot;y&quot;</span>, <span class="at">outcome_lags =</span> <span class="dv">1</span>,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">unit_index =</span> <span class="st">&quot;i&quot;</span>, <span class="at">time_index =</span> <span class="st">&quot;t&quot;</span>, <span class="at">rel_time =</span> <span class="st">&quot;rel_time&quot;</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_lpdid</span>(lpdid1, <span class="at">col =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">x.shift =</span> <span class="fl">0.1</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">iplot</span>(twfe1, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">x.shift =</span> <span class="sc">-</span><span class="fl">0.1</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">aggregate</span>(df<span class="sc">$</span>beta[df<span class="sc">$</span>ever_treat <span class="sc">==</span> <span class="dv">1</span>], <span class="fu">list</span>(df<span class="sc">$</span>rel_time[df<span class="sc">$</span>ever_treat <span class="sc">==</span> <span class="dv">1</span>]), mean))</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;True Beta&quot;</span>, <span class="st">&quot;TWFE&quot;</span>, <span class="st">&quot;LP-DiD&quot;</span>), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">19</span>, <span class="dv">19</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;tomato&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="the-castle-dataset" class="section level2">
<h2>The <code>castle</code> Dataset</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;fixest&quot;</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> bacondecomp<span class="sc">::</span>castle</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>t <span class="ot">&lt;-</span> df<span class="sc">$</span>year <span class="sc">-</span> df<span class="sc">$</span>treatment_date</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(<span class="fu">is.na</span>(df<span class="sc">$</span>t), <span class="sc">-</span><span class="dv">1</span>, df<span class="sc">$</span>t) <span class="ot">-&gt;</span> df<span class="sc">$</span>t</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>treat <span class="ot">&lt;-</span> <span class="fu">ave</span>(df<span class="sc">$</span>post, df<span class="sc">$</span>state, <span class="at">FUN =</span> max)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>twfe1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(l_homicide <span class="sc">~</span> <span class="fu">i</span>(t, treat, <span class="sc">-</span><span class="dv">1</span>) <span class="sc">|</span> state <span class="sc">+</span> year, <span class="at">data =</span> df)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>treatment_date1 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(df<span class="sc">$</span>treatment_date), <span class="dv">3000</span>, df<span class="sc">$</span>treatment_date)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>sunab1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(l_homicide <span class="sc">~</span> <span class="fu">sunab</span>(treatment_date1, year)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>               <span class="sc">|</span> state <span class="sc">+</span> year, <span class="at">data =</span> df)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">lpdid</span>(<span class="at">df =</span> df,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">window =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">19</span>, <span class="dv">10</span>),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;l_homicide&quot;</span>,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">unit_index =</span> <span class="st">&quot;state&quot;</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">time_index =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">rel_time =</span> <span class="st">&quot;t&quot;</span>) <span class="ot">-&gt;</span> reg</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_lpdid</span>(reg, <span class="at">col =</span> <span class="st">&quot;tomato&quot;</span>)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="fu">iplot</span>(sunab1, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;dodgerblue&quot;</span>, <span class="at">x.shift =</span> <span class="fl">0.15</span>)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">iplot</span>(twfe1, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">x.shift =</span> <span class="sc">-</span><span class="fl">0.15</span>)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;bottomright&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;TWFE&quot;</span>, <span class="st">&quot;LP-DiD&quot;</span>, <span class="st">&quot;Sun &amp; Abraham&quot;</span>),</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;tomato&quot;</span>, <span class="st">&quot;dodgerblue&quot;</span>), <span class="at">pch =</span> <span class="dv">15</span>,</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="andrew-bakers-simulated-dataset" class="section level2">
<h2>Andrew Baker’s Simulated Dataset</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>baker <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_dta</span>(<span class="st">&#39;https://github.com/scunning1975/mixtape/raw/master/baker.dta&#39;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>baker<span class="sc">$</span>treated <span class="ot">&lt;-</span> baker<span class="sc">$</span>treat_date <span class="sc">!=</span> <span class="dv">0</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(<span class="fu">list</span>(<span class="at">y =</span> baker<span class="sc">$</span>y),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">list</span>(<span class="at">year =</span> baker<span class="sc">$</span>year,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">group =</span> baker<span class="sc">$</span>group),</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                 mean)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tmp<span class="sc">$</span>year, tmp<span class="sc">$</span>y, <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> scales<span class="sc">::</span><span class="fu">alpha</span>(tmp<span class="sc">$</span>group, .<span class="dv">4</span>),</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Year&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Outcome&quot;</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(tmp<span class="sc">$</span>year[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">1</span>]],</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>      tmp<span class="sc">$</span>y[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">1</span>]],</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> tmp<span class="sc">$</span>group[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">1</span>]])</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(tmp<span class="sc">$</span>year[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">2</span>]],</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>      tmp<span class="sc">$</span>y[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">2</span>]],</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> tmp<span class="sc">$</span>group[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">2</span>]])</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(tmp<span class="sc">$</span>year[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">3</span>]],</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>      tmp<span class="sc">$</span>y[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">3</span>]],</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> tmp<span class="sc">$</span>group[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">3</span>]])</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(tmp<span class="sc">$</span>year[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">4</span>]],</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>      tmp<span class="sc">$</span>y[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">4</span>]],</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> tmp<span class="sc">$</span>group[tmp<span class="sc">$</span>group <span class="sc">==</span> <span class="fu">unique</span>(tmp<span class="sc">$</span>group)[<span class="dv">4</span>]])</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>res_naive <span class="ot">=</span> <span class="fu">feols</span>(y <span class="sc">~</span> <span class="fu">i</span>(time_til, treated, <span class="at">ref =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">|</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                    id <span class="sc">+</span> year,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                  baker, <span class="at">cluster =</span> <span class="sc">~</span>state)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The variables &#39;time_til::18:treated&#39;, &#39;time_til::19:treated&#39; and four others have been removed because of collinearity (see $collin.var).</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>res_cohort <span class="ot">=</span> <span class="fu">feols</span>(y <span class="sc">~</span> <span class="fu">sunab</span>(treat_date, year) <span class="sc">|</span> id <span class="sc">+</span> year, </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                   baker[baker<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">2004</span>,],</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">cluster =</span> <span class="sc">~</span>state)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="fu">lpdid</span>(<span class="at">df =</span> baker, <span class="at">window =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">20</span>, <span class="dv">20</span>), <span class="at">y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">unit_index =</span> <span class="st">&quot;id&quot;</span>, <span class="at">time_index =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">rel_time =</span> <span class="st">&quot;time_til&quot;</span>, <span class="at">reweight =</span> <span class="cn">TRUE</span>) <span class="ot">-&gt;</span> reg</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">iplot</span>(res_naive, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">grid =</span> F,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Time to Treatment&quot;</span>, <span class="at">main =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="fu">iplot</span>(res_cohort, <span class="at">col =</span> <span class="st">&quot;dodgerblue&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_lpdid</span>(reg, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">pch =</span> <span class="dv">1</span>, <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;tomato&quot;</span>, <span class="st">&quot;dodgerblue&quot;</span>),</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">1</span>), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;TWFE&quot;</span>, <span class="st">&quot;Sun &amp; Abraham&quot;</span>, <span class="st">&quot;LP-DiD&quot;</span>))</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="non-absorbing-treatment" class="section level2">
<h2>Non-Absorbing Treatment</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">757</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>I <span class="ot">&lt;-</span> <span class="dv">50</span>; T <span class="ot">&lt;-</span> <span class="dv">50</span>; N <span class="ot">&lt;-</span> I <span class="sc">*</span> T; e_var <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>I, <span class="at">each =</span> T),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">t =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>T, I),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">e =</span> <span class="fu">rnorm</span>(N, <span class="dv">0</span>, e_var)) <span class="ot">-&gt;</span> df</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>unit_FE <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(I, <span class="dv">0</span>, e_var)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>time_FE <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(T, <span class="dv">0</span>, e_var)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>treated <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>id <span class="sc">&lt;</span> <span class="dv">21</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>treat_status <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>id <span class="sc">&lt;</span> <span class="dv">21</span> <span class="sc">&amp;</span> df<span class="sc">$</span>t <span class="sc">%in%</span> <span class="dv">16</span><span class="sc">:</span><span class="dv">25</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>treat_status <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>id <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">&amp;</span> df<span class="sc">$</span>t <span class="sc">%in%</span> <span class="dv">36</span><span class="sc">:</span><span class="dv">45</span>, <span class="dv">1</span>, df<span class="sc">$</span>treat_status)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>y <span class="ot">&lt;-</span> df<span class="sc">$</span>e <span class="sc">+</span> unit_FE[df<span class="sc">$</span>id] <span class="sc">+</span> time_FE[df<span class="sc">$</span>t] <span class="sc">+</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(df<span class="sc">$</span>id <span class="sc">&lt;</span> <span class="dv">11</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ifelse</span>(df<span class="sc">$</span>t <span class="sc">&gt;</span> <span class="dv">35</span>, <span class="dv">50</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>                <span class="fu">ifelse</span>(df<span class="sc">$</span>t <span class="sc">&gt;</span> <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">0</span>)),</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ifelse</span>(df<span class="sc">$</span>id <span class="sc">&lt;</span> <span class="dv">21</span>,</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>                <span class="fu">ifelse</span>(df<span class="sc">$</span>t <span class="sc">&gt;</span> <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">0</span>),</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>                <span class="dv">0</span>))</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group <span class="ot">&lt;-</span> (<span class="fu">ave</span>(df<span class="sc">$</span>treat_status, df<span class="sc">$</span>id)) <span class="sc">*</span> <span class="dv">5</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>agg <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(df<span class="sc">$</span>y, <span class="fu">list</span>(df<span class="sc">$</span>t, df<span class="sc">$</span>group), mean)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(agg<span class="sc">$</span>Group<span class="fl">.1</span>, agg<span class="sc">$</span>x, <span class="at">col =</span> agg<span class="sc">$</span>Group<span class="fl">.2</span> <span class="sc">+</span> <span class="dv">1</span>, <span class="at">pch =</span> <span class="dv">19</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lpdid</span>(<span class="at">df =</span> df, <span class="at">window =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12</span>, <span class="dv">12</span>), <span class="at">y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">unit_index =</span> <span class="st">&quot;id&quot;</span>, <span class="at">time_index =</span> <span class="st">&quot;t&quot;</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">reweight =</span> <span class="cn">FALSE</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">nonabsorbing =</span> <span class="cn">TRUE</span>, <span class="at">nonabsorbing_lag =</span> <span class="dv">5</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">nonabsorbing_treat_status =</span> <span class="st">&quot;treat_status&quot;</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">rel_time =</span> <span class="st">&quot;&quot;</span>) <span class="ot">-&gt;</span> reg</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>ci <span class="ot">&lt;-</span> <span class="fl">1.96</span><span class="sc">*</span>reg<span class="sc">$</span>coeftable<span class="sc">$</span><span class="st">`</span><span class="at">Std. Error</span><span class="st">`</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> reg<span class="sc">$</span>coeftable<span class="sc">$</span>Estimate</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(reg<span class="sc">$</span>window, reg<span class="sc">$</span>coeftable<span class="sc">$</span>Estimate, <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">range</span>(b <span class="sc">+</span> ci, b <span class="sc">-</span> ci),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="fu">segments</span>(<span class="at">x0 =</span> reg<span class="sc">$</span>window, <span class="at">lty =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">y1 =</span> b <span class="sc">+</span> ci, <span class="at">y0 =</span> b <span class="sc">-</span> ci)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">h =</span> <span class="dv">0</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">50</span> <span class="sc">-</span> <span class="dv">15</span>)), <span class="at">lty =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAAAQlBMVEUAAAAAADoAAGYAOpAAZrY6AAA6ADo6Ojo6kNtmAABmtv+QOgCQ2/+2ZgC2///bkDrb////tmb/25D//7b//9v///93ir3WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAOGklEQVR4nO3dbVfbSBZFYWdCZpohDCHA//+r4xecYIws6Vh1fUpnPx+6ey23lbp4t5AUOrV5A4xtbr0A4BIChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChTUChbWFA90Ak9wq0GUP143UuWUEWit1bhmB1kqdW0agtVLnlhFordS5ZQRaK3VuGYHWSp1bRqC1UueWEWit1LllBFordW4ZgdZKnfto9vwEWit17iMCNZc69xGBmkud+8gj0Jf7f7Z/fd5sNv/63wKHW5PUuY+MAn36/mv3T/+9/nBrkjr3kU+g72nuM73ycGuSMPelGX0C/f1jH+jzwDf5hA/qKwlz9xEoZ9AvJczdQ6C7/5nk7u14u3Tl4dbEa+42q/EP9G3f6Lef2xv5gT7NPqg6XnMHB1p8uG54zW0W6FcvFgc6//8mXRmvuXMDfdomeLhJ4i7+hDx3kzfGBvq0vf58ud/dJRHoKQKd+WKTQF8f/tn/9fsvAv2EQGe+2Ogx0+E3OB+//yLQUx0F6vErNjyDbj3eEeipNoGqSTQ5aAeB/vnG/nI/9PNMBLrkGwl0/l384Zv86wOBniDQmS/yoL4Wgc58kUBreSXhtRoCNeCVhNdqCNSAVxJeqyFQA15JeK2GQA14JeG1GgI14JVE+Wou/xgbgd5edqAjP2hJoLdnFej889l1qxn7UWACvT2nQIXz2aTXBg9KoP6MAlVymfDahYMSqL/VB3rxqFyD2jO6b75BoNzF23O6b25y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" style="display: block; margin: auto;" /></p>
</div>
<div id="under-construction" class="section level2">
<h2>Under Construction</h2>
<p>This is the first iteration of this package. So, of course, there are
some known (and surely many unknown) bugs. Some of them are as
follows:</p>
<ul>
<li>Thing 1</li>
<li>Thing 2</li>
</ul>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
